## 锁机制
- 1、共享锁、排它锁
  ```
  共享锁：Share locks简记为S锁，也称读锁，由读表操作加上的锁，加锁后其他用户只能获取该表或行的共享锁，不能获取排它锁，也就是说只能读不能写。
  
  排它锁：Exclusivelocks简记为X锁，也称写锁、独占锁，由写表操作加上的锁，加锁后其他用户不能获取该表或行的任何锁。
  
  更新锁：简记为U锁，为解决死锁，引入更新锁。
  用来预定要对此对象施加X锁，它允许其他事务读，但不允许再施加U锁或X锁；
  当被读取的对象将要被更新时，则升级为X锁，主要是用来防止死锁的。
  因为使用共享锁时，修改数据的操作分为两步，首先获得一个共享锁，读取数据，然后将共享锁升级为排它锁，然后再执行修改操作。
  这样如果同时有两个或多个事务同时对一个对象申请了共享锁，在修改数据的时候，这些事务都要将共享锁升级为排它锁。
  这些事务都不会释放共享锁而是一直等待对方释放，这样就造成了死锁。
  如果一个数据在修改前直接申请更新锁，在数据修改的时候再升级为排它锁，就可以避免死锁。
- 2、行锁、表锁
  ```
  行锁：对某行记录加上锁
  
  表锁：对整个表加上锁
- 3、乐观锁、悲观锁
  ```
  悲观锁：顾名思义，就是很悲观，每次去拿数据的时候都认为别人会修改，所以每次在拿数据的时候都会上锁，
  这样别人想拿这个数据就会block直到它拿到锁。
  传统的关系型数据库里边就用到了很多这种锁机制，比如行锁，表锁等，读锁，写锁等，都是在做操作之前先上锁。
  
  乐观锁：顾名思义，就是很乐观，每次去拿数据的时候都认为别人不会修改，所以不会上锁，
  但是在更新的时候会判断一下在此期间别人有没有去更新这个数据，如果期间被修改那么， 则给用户做出提示。
  可以使用版本号等机制记录状态。

---